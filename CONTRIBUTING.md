# Руководство по участию в разработке

Спасибо за интерес к проекту GSP Heating Server! Мы приветствуем любые вклады в развитие системы управления отоплением.

## Как начать

1. Форкните репозиторий
2. Создайте ветку для новой функции (`git checkout -b feature/amazing-feature`)
3. Внесите изменения и добавьте тесты
4. Убедитесь, что все тесты проходят (`npm test`)
5. Зафиксируйте изменения (`git commit -m 'Add amazing feature'`)
6. Отправьте изменения в ветку (`git push origin feature/amazing-feature`)
7. Создайте Pull Request

## Стандарты кодирования

### TypeScript
- Используйте строгую типизацию
- Добавляйте JSDoc комментарии для публичных методов
- Следуйте принципам SOLID

### Форматирование
- Используйте Prettier для форматирования кода
- Запустите `npm run format` перед коммитом
- Используйте ESLint для проверки качества кода

### Коммиты
Используйте conventional commits:
- `feat:` новая функция
- `fix:` исправление бага
- `docs:` обновление документации
- `style:` изменения форматирования
- `refactor:` рефакторинг кода
- `test:` добавление тестов
- `chore:` обновление зависимостей

## Тестирование

### Unit тесты
```bash
npm run test
```

### E2E тесты
```bash
npm run test:e2e
```

### Покрытие кода
```bash
npm run test:cov
```

## Архитектура

### Модульная структура
- `devices/` - модули устройств
- `mqtt/` - MQTT интеграция
- `websocket/` - WebSocket модули
- `interfaces/` - TypeScript интерфейсы

### Добавление нового устройства
1. Создайте интерфейс в `devices/interfaces/`
2. Создайте конфигурацию устройства
3. Создайте сервис с бизнес-логикой
4. Создайте контроллер для REST API
5. Добавьте модуль в `app.module.ts`
6. Добавьте тесты

## Отладка

### Локальная разработка
```bash
npm run start:dev
```

### Debug режим
```bash
npm run start:debug
```

### Docker разработка
```bash
docker build -t gsp-heating-dev .
docker run -p 3001:3001 -e NODE_ENV=development gsp-heating-dev
```

## Документация

- Обновляйте README.md при добавлении новых функций
- Добавляйте комментарии к сложной бизнес-логике
- Документируйте API endpoints
- Обновляйте схемы WebSocket событий

## Вопросы и поддержка

- Создавайте Issues для багов и предложений
- Используйте Discussions для вопросов
- Проверяйте существующие Issues перед созданием новых

## Лицензия

Участвуя в проекте, вы соглашаетесь с условиями лицензии проекта.
